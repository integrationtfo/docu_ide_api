[[{"l":"Introduction","p":["This document describes the API opened to external services from Idello. Namely this API was developed to allow sign-ups to Idéllo on third-party sites."]},{"l":"Overview","p":["Idello API uses the following computed url https://www.idello.org/fr/api/v1. This is followed by a language variable or either fr or en.","Idello supports a Cross Origin Access to its API. The only restriction of the service is for the external service provider to be known be known by Idello.","Also, each external service provider shall provide its identifier for each of its requests and a checksum of the data sent to validate the authenticity of the request.","Note that you should have an uniquely-identifying ID and a secret given by the TFO to allow to request the API.","Request Header Name","Request Header Value","Xdistantidentifier","The uniquely-identifying ID given by TFO","Xdistantchecksum","The JSON data HMAC using the secret with the SHA1 algorithm","ContentType","application/json"]}],[{"l":"Recover","p":["Retrieve security question, providing username. Useful in password recovery flow without an email"]},{"l":"Method","p":["POST"]},{"l":"Endpoint","p":["/account/check_username"]},{"l":"Parameters","p":["Name","Description","noemail_username","Example"]},{"l":"Responses","p":["Example"]}],[{"l":"Get Countries List","p":["Get list of countries with codes and id."]},{"l":"Method","p":["POST"]},{"l":"Endpoint","p":["/account/get_country_list"]},{"l":"Responses","p":["Example"]}],[{"l":"Get Countries List","p":["Get list of provinces with codes and id."]},{"l":"Method","p":["POST"]},{"l":"Endpoint","p":["/account/get_provinces_list"]},{"l":"Parameters","p":["Name","Description","country_id","Example"]},{"l":"Responses","p":["Example"]}],[{"l":"Provider authentication"},{"l":"Method","p":["POST"]},{"l":"Endpoint","p":["/provider/authenticate"]},{"l":"Description","p":["This endpoint MUST be called when the partner requests an authentication for a specific user. Upon making sure the checksum is valid, and the request is validated by the partner through the pingback URL, the partner returns the user's identity information. For more details, see https://docs.google.com/document/d/18wJkT5Pgdkl5RTYaXOlbP0QrxOE-wKNzYFW485LRqtI"]},{"l":"Parameters","p":["Name","Description","X-IDELLO-PROVIDER-KEY","Unique key given to each provider. See IDLOAccountProviderToken","X-IDELLO-PROVIDER-CHECKSUM","set using hash_hmac('sha1', $appKey . json_encode($request), $sharedSecret)","Example"]},{"l":"Responses","p":["Example"]}],[{"l":"Recover","p":["Send recovered password email to user"]},{"l":"Method","p":["POST"]},{"l":"Endpoint","p":["/account/recover"]},{"l":"Parameters","p":["Name","Description","email","Example"]},{"l":"Responses","p":["Example"]}],[{"l":"Recover Password","p":["Recover account password using slug and code sent by mail"]},{"l":"Method","p":["POST"]},{"l":"Endpoint","p":["/account/recover_password"]},{"l":"Parameters","p":["Name","Description","slug","code","password","password_confirm","Must match password","Example"]},{"l":"Responses","p":["Example"]}],[{"l":"Recover","p":["Sends by email the username of an account"]},{"l":"Method","p":["POST"]},{"l":"Endpoint","p":["/account/recover_username"]},{"l":"Parameters","p":["Name","Description","forgotusername_email","Example"]},{"l":"Responses","p":["Example"]}],[{"l":"Resend Activation","p":["Resend signup activation email"]},{"l":"Method","p":["POST"]},{"l":"Endpoint","p":["/account/resend_activation"]},{"l":"Parameters","p":["Name","Description","email","Example"]},{"l":"Responses","p":["Example"]}],[{"l":"Reset Password","p":["Get a link to reset password"]},{"l":"Method","p":["POST"]},{"l":"Endpoint","p":["/account/validate_security_question_answer"]},{"l":"Parameters","p":["Name","Description","noemail_username","noemail_secretquestion","Example"]},{"l":"Responses","p":["Example"]}],[{"l":"Sign in"},{"l":"Method","p":["POST"]},{"l":"Endpoint","p":["/account/signin"]},{"l":"Parameters","p":["Name","Description","username","password","md5 hash of the user password","Example"]},{"l":"Responses","p":["Example","Name","Description","session_name","Session name, used for setting POST headers","session_id","Session ID for subsequent calls"]}],[{"l":"Sign out"},{"l":"Method","p":["POST"]},{"l":"Endpoint","p":["/account/signout"]},{"l":"Parameters","p":["Name","Description","X-tfo-idello-session","password","md5 hash of the user password"]},{"l":"Responses","p":["Example"]}],[{"l":"Sign up","p":["Create a new account"]},{"l":"Method","p":["POST"]},{"l":"Endpoint","p":["/account/signup"]},{"l":"Parameters","p":["Accepted value: 'en', 'fr'","Accepted value: ‘child’, ‘student’, ‘parent’, ‘teacher’, ‘manager’","birthyear","Canada = 40","conditions_accepted","country_destination_id","Define if the user want to subscribe to Idello newsletter","Define if the user want to subscribe to TFO newsletter","Description","email","Example","firstname","g-recaptcha-response","Groupe Media TFO = 1435","institution_id","lang","lastname","Must match password","Name","Ontario = 922","password","password_confirm","ReCaptcha challenge's response","receive_newsletter","receive_newsletter_tfo","region_destination_id","type","User must accept conditions","username"]},{"l":"Responses","p":["Example","Name","Description","session_name","Session name, used for setting POST headers","session_id","Session ID for subsequent calls"]}],[{"l":"Generate API Key List","p":["Get a new api key to make direct request to Algolia from the frontend"]},{"l":"Method","p":["POST"]},{"l":"Endpoint","p":["/account/get_provinces_list"]},{"l":"Parameters","p":["Name","Description","scope","Value must be idello","refresh","Example"]},{"l":"Responses","p":["Example"]}],[{"l":"Get Filters","p":["Return algolias for a province"]},{"l":"Method","p":["POST"]},{"l":"Endpoint","p":["/account/get_provinces_list"]},{"l":"Parameters","p":["Name","Description","scope","Value must be idello","Example"]},{"l":"Responses","p":["Example"]}]]